name: Update HAYQ Bot

on:
  workflow_dispatch:
  schedule:
    - cron: '*/10 * * * *' # Õ½Õ¿Õ¸Ö‚Õ£Õ¸Ö‚Õ´ Õ§ GitHub repoâ€“Õ¸Ö‚Õ´ Õ¶Õ¸Ö€ commitâ€“Õ¥Ö€Õ¨ 10 Ö€Õ¸ÕºÕ¥Õ¨ Õ´Õ¥Õ¯

jobs:
  update-hayq-bot:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '20'

      - name: Install dependencies
        run: |
          cd hayq-transport-bot-v2
          npm install

      - name: Start bot
        run: |
          cd hayq-transport-bot-v2
          echo "ðŸš€ Starting HAYQ Bot..."
          node bot/bot.js > bot.log 2>&1 &

      - name: Upload bot logs
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: hayq-bot-logs
          path: hayq-transport-bot-v2/bot.log
